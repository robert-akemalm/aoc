package aoc2020;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.BitSet;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class Day14 {
    public static void main(String[] args) {
        a(TEST_INPUT);
        a(INPUT);
        b(TEST_INPUT);
        b(INPUT);
    }

    private static void b(String input) {
        String[] lines = input.split("\n");
        int maxMem = Arrays.stream(lines).filter(l -> l.contains("["))
                           .mapToInt(l -> Integer.parseInt(l.substring(l.indexOf("[") + 1, l.indexOf("]")))).max().orElse(-1);
        Boolean[] mask = new Boolean[36];
        Boolean[] addr = new Boolean[36];
        Map<Long, Long> mem = new HashMap<>();
        for (String l : lines) {
            if (l.startsWith("ma")) {
                String m = l.substring(l.indexOf("=") + 2);
                for (int i = 0; i < m.length(); i++) {
                    char c = m.charAt(i);
                    mask[35 - i] = c == 'X' ? null : c == '1';
                }
            } else {
                long a = Integer.parseInt(l.substring(l.indexOf("[") + 1, l.indexOf("]")));
                long v = Long.parseLong(l.substring(l.indexOf("=") + 2));
                BitSet b = BitSet.valueOf(new long[] {a});
                for (int i = 0; i < addr.length; i++) {
                    addr[i] = b.get(i);
                }
                for (int i = 0; i < mask.length; i++) {
                    if (mask[i] == Boolean.TRUE) {
                        addr[i] = Boolean.TRUE;
                    } else if (mask[i] == null) {
                        addr[i] = null;
                    }
                }
                for (Long address : addresses(addr)) {
                    mem.put(address, v);
                }
            }
        }
        System.out.println(mem.values().stream().mapToLong(v -> v).sum());
    }

    private static List<Long> addresses(Boolean[] addr) {
        List<Long> a = new ArrayList<>();
        addresses(addr, 0, a);
        return a;
    }

    private static void addresses(Boolean[] addr, int ix, List<Long> dest) {
        if (ix == addr.length) {
            long val = 0;
            for (int i = 0; i < addr.length; i++) {
                if (addr[i]) {
                    val += Math.pow(2, i);
                }
            }
            dest.add(val);
        } else if (addr[ix] == null) {
            Boolean[] t = Arrays.copyOf(addr, addr.length);
            Boolean[] f = Arrays.copyOf(addr, addr.length);
            t[ix] = true;
            f[ix] = false;
            addresses(t, ix + 1, dest);
            addresses(f, ix + 1, dest);
        } else {
            addresses(addr, ix + 1, dest);
        }
    }

    private static void a(String input) {
        String[] lines = input.split("\n");
        int maxMem = Arrays.stream(lines).filter(l -> l.contains("["))
                           .mapToInt(l -> Integer.parseInt(l.substring(l.indexOf("[") + 1, l.indexOf("]")))).max().orElse(-1);
        Boolean[] mask = new Boolean[36];
        long[] mem = new long[maxMem + 1];
        for (String l : lines) {
            if (l.startsWith("ma")) {
                String m = l.substring(l.indexOf("=") + 2);
                for (int i = 0; i < m.length(); i++) {
                    char c = m.charAt(i);
                    mask[35 - i] = c == 'X' ? null : c == '1';
                }
            } else {
                int addr = Integer.parseInt(l.substring(l.indexOf("[") + 1, l.indexOf("]")));
                long val = Long.parseLong(l.substring(l.indexOf("=") + 2));
                BitSet b = BitSet.valueOf(new long[] {val});
                for (int i = 0; i < mask.length; i++) {
                    if (mask[i] == Boolean.TRUE) {
                        b.set(i);
                    } else if (mask[i] == Boolean.FALSE) {
                        b.clear(i);
                    }
                }
                mem[addr] = b.toLongArray()[0];
            }
        }
        System.out.println(Arrays.stream(mem).sum());
    }

    private static final String TEST_INPUT = "mask = 000000000000000000000000000000X1001X\n"
                                             + "mem[42] = 100\n"
                                             + "mask = 00000000000000000000000000000000X0XX\n"
                                             + "mem[26] = 1";

    private static final String INPUT = "mask = 11X01X101X10000110110101X100000011XX\n"
                                        + "mem[30904] = 804\n"
                                        + "mem[25640] = 58672415\n"
                                        + "mem[44254] = 829902099\n"
                                        + "mask = 0100X100101000X0X01100X011100X000011\n"
                                        + "mem[16446] = 3614672\n"
                                        + "mem[60345] = 12470188\n"
                                        + "mem[56197] = 3362\n"
                                        + "mem[16887] = 516\n"
                                        + "mem[15481] = 98479236\n"
                                        + "mem[35964] = 5253451\n"
                                        + "mem[6365] = 7426\n"
                                        + "mask = 110X0X00100110101011110X1101100X1000\n"
                                        + "mem[8832] = 13005766\n"
                                        + "mem[55115] = 950\n"
                                        + "mem[41989] = 552\n"
                                        + "mem[61913] = 823\n"
                                        + "mem[20675] = 22741\n"
                                        + "mem[63918] = 733663\n"
                                        + "mem[27098] = 12221134\n"
                                        + "mask = 1101000X0011100000101XX0000X1100XX00\n"
                                        + "mem[6537] = 8038445\n"
                                        + "mem[1980] = 10059427\n"
                                        + "mem[14520] = 4008996\n"
                                        + "mask = 00X11X000000X000X1100011000110001000\n"
                                        + "mem[34817] = 444921\n"
                                        + "mem[2819] = 5673\n"
                                        + "mem[22931] = 1528224\n"
                                        + "mem[3026] = 5672\n"
                                        + "mask = 1X0000001111X0X1111X1000100X0X0X10X0\n"
                                        + "mem[35040] = 132191053\n"
                                        + "mem[10721] = 754223\n"
                                        + "mem[56671] = 2754806\n"
                                        + "mem[30791] = 10367\n"
                                        + "mem[19792] = 147\n"
                                        + "mem[10716] = 44773\n"
                                        + "mem[33657] = 364\n"
                                        + "mask = 0X00000XX00X0X01101111000111010X11XX\n"
                                        + "mem[54264] = 252\n"
                                        + "mem[20924] = 4662\n"
                                        + "mem[30011] = 13994357\n"
                                        + "mem[32315] = 3582763\n"
                                        + "mem[49802] = 55546\n"
                                        + "mem[60634] = 12285193\n"
                                        + "mem[35945] = 423\n"
                                        + "mask = 010000X010000001100X100X1X0001110110\n"
                                        + "mem[54639] = 1114347\n"
                                        + "mem[14221] = 648\n"
                                        + "mem[48913] = 130830803\n"
                                        + "mask = 0111100011011X0110000X1X01X101100000\n"
                                        + "mem[54240] = 49462136\n"
                                        + "mem[30740] = 2366\n"
                                        + "mem[65284] = 4006\n"
                                        + "mem[6233] = 507389094\n"
                                        + "mem[19877] = 141\n"
                                        + "mask = 110110X0X001010X1100010XX01101111X10\n"
                                        + "mem[42920] = 210585\n"
                                        + "mem[1758] = 291573\n"
                                        + "mem[11740] = 1753119\n"
                                        + "mem[62804] = 1121\n"
                                        + "mem[54639] = 872\n"
                                        + "mem[35142] = 1916057\n"
                                        + "mask = 100X10000001100101000011XX10101000X0\n"
                                        + "mem[40548] = 560555\n"
                                        + "mem[62482] = 7506653\n"
                                        + "mem[49966] = 575\n"
                                        + "mem[30575] = 1220439\n"
                                        + "mem[28113] = 5563\n"
                                        + "mem[41047] = 65293771\n"
                                        + "mask = X1010000X1XX01X110100X01101X01010XX0\n"
                                        + "mem[1366] = 71278590\n"
                                        + "mem[45316] = 873708\n"
                                        + "mem[43138] = 2041\n"
                                        + "mem[46594] = 607\n"
                                        + "mem[15467] = 127558\n"
                                        + "mask = X100100000100000101X00011X11X0110001\n"
                                        + "mem[549] = 1814393\n"
                                        + "mem[59563] = 865\n"
                                        + "mem[34570] = 175093\n"
                                        + "mem[21815] = 841005500\n"
                                        + "mem[46823] = 517\n"
                                        + "mem[62134] = 2068575\n"
                                        + "mask = XX0000X110000101101X00X1X111X111X110\n"
                                        + "mem[9644] = 81473\n"
                                        + "mem[55094] = 103187\n"
                                        + "mask = 010X00001XXX0X01101XX001101111X1X010\n"
                                        + "mem[43476] = 39027003\n"
                                        + "mem[25072] = 225\n"
                                        + "mem[37182] = 1497390\n"
                                        + "mem[22440] = 170498\n"
                                        + "mask = 0XXXX0001000001110X1101X111X10101000\n"
                                        + "mem[16871] = 92184017\n"
                                        + "mem[22567] = 9298973\n"
                                        + "mem[38861] = 3583194\n"
                                        + "mem[46161] = 3411721\n"
                                        + "mem[55420] = 382\n"
                                        + "mem[25462] = 174027\n"
                                        + "mem[41626] = 275108\n"
                                        + "mask = 1X01000X11X0X11110100X11110X0101X001\n"
                                        + "mem[21342] = 14984152\n"
                                        + "mem[52268] = 435036\n"
                                        + "mem[23071] = 13378\n"
                                        + "mem[58137] = 63436471\n"
                                        + "mem[23072] = 4203436\n"
                                        + "mem[38405] = 479843353\n"
                                        + "mask = 0000X001100X0001X011X10X010101101011\n"
                                        + "mem[52773] = 64752275\n"
                                        + "mem[3789] = 898152\n"
                                        + "mem[12600] = 7124813\n"
                                        + "mask = 100110XX000110X001101X10100XX000000X\n"
                                        + "mem[58350] = 693\n"
                                        + "mem[2651] = 163278\n"
                                        + "mem[24130] = 13797006\n"
                                        + "mem[62784] = 23369612\n"
                                        + "mem[6912] = 1301\n"
                                        + "mask = 11010X00100XX101101111111111X101101X\n"
                                        + "mem[53888] = 194671\n"
                                        + "mem[3670] = 8817412\n"
                                        + "mem[58068] = 16156\n"
                                        + "mem[64215] = 11891\n"
                                        + "mask = 01X1000XX101XX0110100001X1000X010X0X\n"
                                        + "mem[59576] = 237039\n"
                                        + "mem[30009] = 957\n"
                                        + "mem[60486] = 961\n"
                                        + "mem[38241] = 18092946\n"
                                        + "mem[32300] = 81527\n"
                                        + "mem[43235] = 361326555\n"
                                        + "mask = X01110100001110X0000X0X11X0X110X00X1\n"
                                        + "mem[34347] = 63169660\n"
                                        + "mem[23916] = 2842\n"
                                        + "mem[14819] = 2078726\n"
                                        + "mem[38982] = 54808\n"
                                        + "mem[36227] = 494\n"
                                        + "mem[17114] = 7834\n"
                                        + "mask = 0XX10XX0000011011111X01111100010XX00\n"
                                        + "mem[21874] = 304925\n"
                                        + "mem[56696] = 950088\n"
                                        + "mask = 1100X0X110111011XX111101X10X110X1111\n"
                                        + "mem[59256] = 178304\n"
                                        + "mem[10638] = 155668\n"
                                        + "mem[6818] = 58192\n"
                                        + "mask = 01X1000011110X11X010101110101X000100\n"
                                        + "mem[23723] = 7575\n"
                                        + "mem[62088] = 17274981\n"
                                        + "mem[6864] = 21516071\n"
                                        + "mask = 11X10000X101X00X10110X01111110X00111\n"
                                        + "mem[31049] = 491767185\n"
                                        + "mem[27270] = 7118669\n"
                                        + "mem[4580] = 65758\n"
                                        + "mem[1039] = 14254\n"
                                        + "mem[32658] = 9716\n"
                                        + "mem[5162] = 842785\n"
                                        + "mem[24455] = 5673467\n"
                                        + "mask = 110X0X0X110X1000XX1X0000001010000X11\n"
                                        + "mem[46755] = 6502241\n"
                                        + "mem[7424] = 20934554\n"
                                        + "mem[23337] = 678828183\n"
                                        + "mem[64828] = 805263\n"
                                        + "mask = X10X00001111X0101011010110X010000100\n"
                                        + "mem[5481] = 288565\n"
                                        + "mem[10519] = 1209\n"
                                        + "mem[5509] = 4081599\n"
                                        + "mask = 10X000001XX01101X111XX00101111000111\n"
                                        + "mem[31289] = 23840740\n"
                                        + "mem[60675] = 2716\n"
                                        + "mem[549] = 32627037\n"
                                        + "mem[56788] = 47252\n"
                                        + "mem[42610] = 1204108\n"
                                        + "mask = 00XXXX00100000X110010010101110100111\n"
                                        + "mem[38288] = 675950673\n"
                                        + "mem[4580] = 3440\n"
                                        + "mem[29394] = 633235\n"
                                        + "mem[28343] = 8737\n"
                                        + "mask = 1101100000001X0010X10110X0011X111101\n"
                                        + "mem[56644] = 40733165\n"
                                        + "mem[15071] = 32842495\n"
                                        + "mem[42317] = 31612899\n"
                                        + "mem[11060] = 31791\n"
                                        + "mem[32740] = 144488\n"
                                        + "mem[59117] = 84496\n"
                                        + "mem[48853] = 2789\n"
                                        + "mask = 1001X0000X1X10000011010000011XX01001\n"
                                        + "mem[41834] = 13008\n"
                                        + "mem[44254] = 506032399\n"
                                        + "mem[47240] = 104934982\n"
                                        + "mem[59603] = 908964\n"
                                        + "mem[27127] = 7816195\n"
                                        + "mem[9442] = 6967530\n"
                                        + "mem[6049] = 130571712\n"
                                        + "mask = 11010000101110X0X11X01100XXX11X01001\n"
                                        + "mem[55552] = 538\n"
                                        + "mem[45294] = 5968\n"
                                        + "mem[57770] = 5074932\n"
                                        + "mem[14709] = 620\n"
                                        + "mask = 1X000X0011001X01X1111XX1111100010010\n"
                                        + "mem[22567] = 111589993\n"
                                        + "mem[27442] = 7345501\n"
                                        + "mem[1366] = 693\n"
                                        + "mem[10716] = 67389\n"
                                        + "mem[34007] = 7669704\n"
                                        + "mem[42994] = 424182225\n"
                                        + "mask = 00X1101000011X010X0X1001100000110100\n"
                                        + "mem[17366] = 1744816\n"
                                        + "mem[49802] = 26865386\n"
                                        + "mem[33107] = 315222523\n"
                                        + "mem[22972] = 1000\n"
                                        + "mem[40792] = 296402778\n"
                                        + "mem[15571] = 119687927\n"
                                        + "mask = 0111X0X0X10111X110X00010XX0101X0010X\n"
                                        + "mem[28584] = 20338342\n"
                                        + "mem[60490] = 7353702\n"
                                        + "mem[47627] = 238170\n"
                                        + "mem[65284] = 98512808\n"
                                        + "mem[21880] = 209876\n"
                                        + "mem[45316] = 17898\n"
                                        + "mem[23937] = 67926\n"
                                        + "mask = 110110000011X000X0XX0000X110000XX000\n"
                                        + "mem[6049] = 603777\n"
                                        + "mem[35598] = 8391793\n"
                                        + "mem[36909] = 87535271\n"
                                        + "mem[39369] = 15004\n"
                                        + "mask = 01010X10110010011111X110100000010X0X\n"
                                        + "mem[7560] = 1428145\n"
                                        + "mem[60796] = 150097\n"
                                        + "mem[7572] = 402\n"
                                        + "mem[26354] = 156030\n"
                                        + "mem[38982] = 792942\n"
                                        + "mem[43594] = 29726\n"
                                        + "mem[62747] = 70726731\n"
                                        + "mask = 1X01X00000X1X000X01X1X0110X010000001\n"
                                        + "mem[21629] = 9076643\n"
                                        + "mem[52203] = 6306\n"
                                        + "mem[22984] = 248989\n"
                                        + "mem[24904] = 5381\n"
                                        + "mask = X1X10XX00000011X11010X0101XX1X111001\n"
                                        + "mem[46483] = 15635\n"
                                        + "mem[59552] = 13183491\n"
                                        + "mem[41572] = 5477\n"
                                        + "mem[44254] = 20911415\n"
                                        + "mem[13067] = 3094\n"
                                        + "mem[6827] = 2156\n"
                                        + "mem[13117] = 9019\n"
                                        + "mask = 1101000X0X0X1001X1110011100000010101\n"
                                        + "mem[7097] = 11433841\n"
                                        + "mem[64940] = 1502724\n"
                                        + "mem[63191] = 27213771\n"
                                        + "mask = X1010X000000XXX11X1X111111X10011100X\n"
                                        + "mem[65480] = 13438723\n"
                                        + "mem[33632] = 81817290\n"
                                        + "mem[7966] = 28099266\n"
                                        + "mem[52682] = 35609347\n"
                                        + "mem[14221] = 73182911\n"
                                        + "mask = 0101X000X110X001101000011X111100111X\n"
                                        + "mem[41444] = 7685\n"
                                        + "mem[2096] = 94796\n"
                                        + "mem[18256] = 71874\n"
                                        + "mask = 100X00000011XX000X1110011001X1101010\n"
                                        + "mem[3789] = 14774133\n"
                                        + "mem[62406] = 226\n"
                                        + "mem[4451] = 136465\n"
                                        + "mask = 010100000X0001XX1XX1X01101011X0010X0\n"
                                        + "mem[3660] = 3970041\n"
                                        + "mem[52464] = 1608598\n"
                                        + "mem[9853] = 221778\n"
                                        + "mem[50180] = 200623\n"
                                        + "mask = 0101X000X000X00110X111X111X110111011\n"
                                        + "mem[36227] = 6953473\n"
                                        + "mem[3660] = 207401\n"
                                        + "mem[549] = 66817\n"
                                        + "mem[59807] = 3577\n"
                                        + "mem[13761] = 4685324\n"
                                        + "mem[21629] = 53428878\n"
                                        + "mem[46431] = 1686\n"
                                        + "mask = 01001000XX1X011110111101100X101XX01X\n"
                                        + "mem[38241] = 239351742\n"
                                        + "mem[30851] = 116\n"
                                        + "mem[57771] = 10156\n"
                                        + "mem[52691] = 5553451\n"
                                        + "mask = 1X01000011X1X0011011001111X100100110\n"
                                        + "mem[1980] = 934\n"
                                        + "mem[28565] = 22842096\n"
                                        + "mem[65272] = 1283\n"
                                        + "mem[3239] = 843939\n"
                                        + "mem[17041] = 507297277\n"
                                        + "mask = 01001000011101X010111011X001X00X1100\n"
                                        + "mem[44712] = 2005\n"
                                        + "mem[47569] = 627819534\n"
                                        + "mem[22757] = 4903910\n"
                                        + "mask = 1X01000000001101101101100X1X0101100X\n"
                                        + "mem[40808] = 134469\n"
                                        + "mem[38359] = 5460\n"
                                        + "mem[12034] = 124445441\n"
                                        + "mask = 00011000000X0000011010X10XX01000X001\n"
                                        + "mem[27442] = 85520780\n"
                                        + "mem[39169] = 2706511\n"
                                        + "mem[63093] = 65082\n"
                                        + "mem[38333] = 21146\n"
                                        + "mem[22757] = 9565\n"
                                        + "mem[55395] = 575\n"
                                        + "mem[30420] = 6655\n"
                                        + "mask = 1101000X00X1X00X0011000101X001011XX1\n"
                                        + "mem[13633] = 2443\n"
                                        + "mem[40637] = 14161841\n"
                                        + "mask = 0100X00001100000101XX10101011X001101\n"
                                        + "mem[14221] = 763800\n"
                                        + "mem[36636] = 74643\n"
                                        + "mem[60609] = 942\n"
                                        + "mask = 0XX10000100X00XX10011X10101010110X10\n"
                                        + "mem[26500] = 14129085\n"
                                        + "mem[20357] = 419\n"
                                        + "mem[7587] = 53492\n"
                                        + "mem[60812] = 914199\n"
                                        + "mask = 1101X000X0XX1XXX101111111011110010X0\n"
                                        + "mem[21629] = 96321089\n"
                                        + "mem[31049] = 5542520\n"
                                        + "mem[28565] = 2711108\n"
                                        + "mask = 100110X0000110000XX01000100X0X00XXXX\n"
                                        + "mem[14509] = 3728576\n"
                                        + "mem[34266] = 564529794\n"
                                        + "mem[39304] = 476496\n"
                                        + "mem[4938] = 41380863\n"
                                        + "mask = XX010000010X01X110101X101100X1010010\n"
                                        + "mem[24130] = 1934\n"
                                        + "mem[58734] = 10309\n"
                                        + "mem[40221] = 1598\n"
                                        + "mem[15977] = 184066469\n"
                                        + "mem[21816] = 11450486\n"
                                        + "mask = 0X00X100X0001001101X00X110100X101X10\n"
                                        + "mem[34141] = 57556\n"
                                        + "mem[30791] = 1291662\n"
                                        + "mem[58838] = 7014\n"
                                        + "mem[24341] = 3067\n"
                                        + "mask = X10000X0100001011XX100X1001011110010\n"
                                        + "mem[4394] = 987\n"
                                        + "mem[6958] = 251375845\n"
                                        + "mem[30011] = 3732389\n"
                                        + "mask = 11XX000010011010111X0100XXX011010110\n"
                                        + "mem[52203] = 68721\n"
                                        + "mem[45364] = 59466717\n"
                                        + "mem[31045] = 21598944\n"
                                        + "mem[50395] = 4231\n"
                                        + "mem[51592] = 8111\n"
                                        + "mem[63504] = 8329134\n"
                                        + "mem[58734] = 754\n"
                                        + "mask = 110100001XX110XX1X1101110XX11X0X0001\n"
                                        + "mem[16279] = 811\n"
                                        + "mem[10716] = 55019036\n"
                                        + "mem[51529] = 24243\n"
                                        + "mem[14709] = 3794\n"
                                        + "mask = 1X010100XX00110111111X0X101X11101X1X\n"
                                        + "mem[46385] = 264566\n"
                                        + "mem[15571] = 3070\n"
                                        + "mem[36393] = 614536\n"
                                        + "mem[47391] = 115102\n"
                                        + "mem[16612] = 1449\n"
                                        + "mem[39001] = 7341623\n"
                                        + "mask = X10X1000X01000001011XX0010X000110001\n"
                                        + "mem[31360] = 245394\n"
                                        + "mem[10346] = 2844\n"
                                        + "mem[59256] = 26640464\n"
                                        + "mem[40731] = 9549\n"
                                        + "mask = 110X0000XX0XX001111111X11101X00X1000\n"
                                        + "mem[20489] = 3679\n"
                                        + "mem[36850] = 48368\n"
                                        + "mem[43476] = 9536\n"
                                        + "mem[42317] = 794736\n"
                                        + "mem[64360] = 3041633\n"
                                        + "mem[20374] = 182769351\n"
                                        + "mask = 11XX000X1X111X1X1X11011110XX11001101\n"
                                        + "mem[34207] = 918112464\n"
                                        + "mem[30124] = 22887363\n"
                                        + "mem[23337] = 5194\n"
                                        + "mem[64654] = 2482244\n"
                                        + "mem[13633] = 52721017\n"
                                        + "mem[53541] = 611\n"
                                        + "mask = X0X1101000011X0XX00X100X0X00X1010011\n"
                                        + "mem[35029] = 31476\n"
                                        + "mem[29797] = 8305\n"
                                        + "mem[11060] = 1711\n"
                                        + "mem[3509] = 370841\n"
                                        + "mask = 1100000X11010X0X111X1X1X0000XX001010\n"
                                        + "mem[12166] = 2826105\n"
                                        + "mem[13096] = 3515\n"
                                        + "mem[10844] = 31293\n"
                                        + "mem[47528] = 4666248\n"
                                        + "mem[30022] = 2602\n"
                                        + "mask = 1101X00100011001X01X1001X0X010001010\n"
                                        + "mem[7409] = 228726\n"
                                        + "mem[44042] = 5963265\n"
                                        + "mem[7966] = 6413\n"
                                        + "mem[32315] = 2668\n"
                                        + "mask = 110X000X00X1X000X0111001100111000001\n"
                                        + "mem[21629] = 372179\n"
                                        + "mem[12594] = 3250987\n"
                                        + "mem[51528] = 11238\n"
                                        + "mem[32964] = 432\n"
                                        + "mask = 11X10000001X000X0010X0111X0110001001\n"
                                        + "mem[22646] = 1609877\n"
                                        + "mem[2120] = 252\n"
                                        + "mem[12600] = 90688426\n"
                                        + "mem[26126] = 5793298\n"
                                        + "mem[52659] = 17234\n"
                                        + "mem[59801] = 14287590\n"
                                        + "mem[7917] = 16520660\n"
                                        + "mask = 11X00000110X10011X110X0111011101X001\n"
                                        + "mem[38536] = 60532\n"
                                        + "mem[38879] = 61201\n"
                                        + "mem[9818] = 9333026\n"
                                        + "mem[48276] = 10329920\n"
                                        + "mask = 110X1000X01X00001011X0X10X0110001XX1\n"
                                        + "mem[39369] = 5666\n"
                                        + "mem[12594] = 361449\n"
                                        + "mem[35634] = 1157722\n"
                                        + "mem[11186] = 3299696\n"
                                        + "mem[15380] = 5526081\n"
                                        + "mem[4541] = 328\n"
                                        + "mask = 010X0X00X0X0X00X10X1000010100011X111\n"
                                        + "mem[13134] = 37334\n"
                                        + "mem[60703] = 1171\n"
                                        + "mem[6504] = 9516\n"
                                        + "mem[46431] = 246333598\n"
                                        + "mem[26155] = 21043\n"
                                        + "mem[55195] = 125930\n"
                                        + "mem[58790] = 11080295\n"
                                        + "mask = 10011000X0011X0001001X0XX1XXX00110X1\n"
                                        + "mem[344] = 499699\n"
                                        + "mem[56449] = 20803473\n"
                                        + "mem[60345] = 52387\n"
                                        + "mem[46126] = 1697507\n"
                                        + "mem[19090] = 52858555\n"
                                        + "mem[20723] = 26263343\n"
                                        + "mem[63191] = 3\n"
                                        + "mask = X00110000001X00X01X01001101XX0000XX0\n"
                                        + "mem[33281] = 489201\n"
                                        + "mem[28482] = 1249916\n"
                                        + "mem[44260] = 977965\n"
                                        + "mem[45827] = 90243487\n"
                                        + "mask = X10100000111X1X11010XX11X001X1X10010\n"
                                        + "mem[39556] = 151117\n"
                                        + "mem[42947] = 34920\n"
                                        + "mem[59025] = 2013682\n"
                                        + "mem[57008] = 4913\n"
                                        + "mem[6773] = 406\n"
                                        + "mask = X10X00001X010XX1111010XX100X00101010\n"
                                        + "mem[57004] = 33597\n"
                                        + "mem[24038] = 57028199\n"
                                        + "mem[8014] = 10576959\n"
                                        + "mem[30740] = 118961\n"
                                        + "mem[32106] = 2411\n"
                                        + "mem[43274] = 3984\n"
                                        + "mem[3179] = 716\n"
                                        + "mask = 1101000X00001X011X11X01011XX1011110X\n"
                                        + "mem[20572] = 8223195\n"
                                        + "mem[3670] = 309\n"
                                        + "mem[57224] = 3646\n"
                                        + "mask = 0101000X00X00X01111X1111110X00100X10\n"
                                        + "mem[27896] = 2498\n"
                                        + "mem[10519] = 629600\n"
                                        + "mem[35133] = 15030807\n"
                                        + "mask = 0X01X0X00X0X01111010110X10110X010100\n"
                                        + "mem[62482] = 20472364\n"
                                        + "mem[64016] = 8001446\n"
                                        + "mem[61547] = 12063\n"
                                        + "mask = 11010XX011100X0110X00X1110010111X0X0\n"
                                        + "mem[59444] = 2341\n"
                                        + "mem[10049] = 53787074\n"
                                        + "mem[50395] = 3290\n"
                                        + "mask = 100110100X01100X001X100110001000010X\n"
                                        + "mem[4227] = 24426052\n"
                                        + "mem[16502] = 23444792\n"
                                        + "mem[22294] = 3709904\n"
                                        + "mem[10773] = 12722\n"
                                        + "mask = X10010000X1X0X0XX01110110X011100XX01\n"
                                        + "mem[7257] = 1613\n"
                                        + "mem[7489] = 1856\n"
                                        + "mem[24160] = 61998242\n"
                                        + "mem[56644] = 8079639\n"
                                        + "mem[59111] = 151253\n"
                                        + "mask = 11010000000100011XX101111X0100001X01\n"
                                        + "mem[52224] = 252594\n"
                                        + "mem[10569] = 79481269\n"
                                        + "mem[12724] = 627\n"
                                        + "mask = 11X0000011X1100111111X0X1XX10110X000\n"
                                        + "mem[48476] = 44915498\n"
                                        + "mem[28502] = 987462\n"
                                        + "mem[28907] = 17654\n"
                                        + "mem[30984] = 527202957\n"
                                        + "mask = 110X000000X0110110101110XX1101111001\n"
                                        + "mem[14737] = 57864548\n"
                                        + "mem[63545] = 62156\n"
                                        + "mask = 1XX1100000010X00X100XX01X11101100110\n"
                                        + "mem[23890] = 27294\n"
                                        + "mem[50906] = 46891220\n"
                                        + "mem[34574] = 597\n"
                                        + "mem[20622] = 2981498\n"
                                        + "mem[10272] = 303\n"
                                        + "mask = 01X1000XX00010X1101101X1X01110XX1X11\n"
                                        + "mem[18342] = 206778755\n"
                                        + "mem[10346] = 412\n"
                                        + "mem[19158] = 20387791\n"
                                        + "mask = 010X00001X100111101X1X1X1X11X10101X0\n"
                                        + "mem[1901] = 158999\n"
                                        + "mem[41794] = 54125676\n"
                                        + "mem[22931] = 89400316\n"
                                        + "mem[19522] = 833\n"
                                        + "mask = 110XX000001X00001011X001111100010100\n"
                                        + "mem[21629] = 1212\n"
                                        + "mem[5305] = 9321884\n"
                                        + "mem[23237] = 31772642\n"
                                        + "mem[15481] = 30790\n"
                                        + "mask = 01001000011X01X1XXX10001XXX11X101011\n"
                                        + "mem[50281] = 1031850\n"
                                        + "mem[55170] = 152566\n"
                                        + "mem[62088] = 2825\n"
                                        + "mem[55498] = 39448855\n"
                                        + "mask = 010X0000XX0XX0011011000100X110111XXX\n"
                                        + "mem[55115] = 91\n"
                                        + "mem[27127] = 204950\n"
                                        + "mem[29412] = 99341996\n"
                                        + "mem[30840] = 32617407\n"
                                        + "mem[52681] = 17904254\n"
                                        + "mem[28755] = 910986\n"
                                        + "mask = 010000X0111X0X01X01000011X101X000X10\n"
                                        + "mem[61913] = 86487\n"
                                        + "mem[23890] = 1409414\n"
                                        + "mem[18153] = 122261\n"
                                        + "mask = 01X1000010001011X01100X1XX1110101010\n"
                                        + "mem[32043] = 1038190\n"
                                        + "mem[35909] = 154\n"
                                        + "mask = 0111X00XXXX0101110XX010000X11X100001\n"
                                        + "mem[37916] = 4881390\n"
                                        + "mem[13226] = 443002\n"
                                        + "mem[22646] = 64137936\n"
                                        + "mem[31097] = 94510556\n"
                                        + "mem[3570] = 119428\n"
                                        + "mem[3311] = 292624\n"
                                        + "mask = X10X1000000XX000X011011110X1000XX101\n"
                                        + "mem[25147] = 646727\n"
                                        + "mem[7075] = 143058300\n"
                                        + "mem[50395] = 661\n"
                                        + "mem[12058] = 11478790\n"
                                        + "mask = X0011000X0111000X010110100X1X10010X0\n"
                                        + "mem[38241] = 752832217\n"
                                        + "mem[33284] = 1355491\n"
                                        + "mem[32536] = 344526925\n"
                                        + "mem[6345] = 989912\n"
                                        + "mask = 01001X0001X1010100111111100X110X1101\n"
                                        + "mem[16833] = 1778173\n"
                                        + "mem[22135] = 3254\n"
                                        + "mem[43235] = 84325\n"
                                        + "mask = X10X00X01100100111111111110X1XX11XX0\n"
                                        + "mem[26414] = 3191\n"
                                        + "mem[62592] = 1205580\n"
                                        + "mem[24576] = 82621\n"
                                        + "mem[65177] = 4041591\n"
                                        + "mem[20140] = 2396\n"
                                        + "mask = 11X010X0X0100X011X11XX01110000001101\n"
                                        + "mem[23934] = 79377022\n"
                                        + "mem[22183] = 77353599\n"
                                        + "mem[4451] = 229619\n"
                                        + "mem[9249] = 2021235\n"
                                        + "mem[47560] = 472016181";
}
