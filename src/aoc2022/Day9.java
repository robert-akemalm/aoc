package aoc2022;

import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

import aoc2022.Util.Pos;

public class Day9 {
    public static void main(String[] args) {
        a(TEST_INPUT);
        a(INPUT);
        b(TEST_INPUT_2);
        b(INPUT);
    }

    private static void b(String input) {
        Set<Pos> seenTail = new HashSet<>();
        List<Pos> knots = new ArrayList<>();
        for (int i = 0; i < 10; i++) {
            knots.add(new Pos(0, 0));
        }
        List<Move> moves = input.lines().map(Move::parse).toList();
        for (Move move : moves) {
            for (int i = 0; i < move.amount; i++) {
                Pos head = move(knots.get(0), move.direction);
                knots.set(0, head);
                for (int j = 1; j < knots.size(); j++) {
                    knots.set(j, moveTail(knots.get(j - 1), knots.get(j)));
                }
                seenTail.add(knots.get(knots.size() - 1));
            }
        }
        System.out.println(seenTail.size());
    }

    private static Direction direction(Pos head, Pos tail) {
        if (head.x > tail.x + 1) {
            return Direction.R;
        } else if (head.x < tail.x - 1) {
            return Direction.L;
        } else if (head.y > tail.y + 1) {
            return Direction.U;
        } else if (head.y < tail.y - 1) {
            return Direction.D;
        }
        return null;
    }

    private static Pos move(Pos pos, Direction direction) {
        return switch (direction) {
            case R -> new Pos(pos.x + 1, pos.y);
            case U -> new Pos(pos.x, pos.y + 1);
            case L -> new Pos(pos.x - 1, pos.y);
            case D -> new Pos(pos.x, pos.y - 1);
        };
    }

    private static Pos moveTail(Pos head, Pos tail) {
        Direction direction = direction(head, tail);
        if (direction == null) {
            return tail;
        }

        boolean moveDiagonal = Math.abs(head.x - tail.x) > 1 && head.y != tail.y
                               || Math.abs(head.y - tail.y) > 1 && head.x != tail.x;

        if (moveDiagonal) {
            return switch (direction) {
                case R -> head.y < tail.y ? new Pos(tail.x + 1, tail.y - 1) : new Pos(tail.x + 1, tail.y + 1);
                case U -> head.x < tail.x ? new Pos(tail.x - 1, tail.y + 1) : new Pos(tail.x + 1, tail.y + 1);
                case L -> head.y < tail.y ? new Pos(tail.x - 1, tail.y - 1) : new Pos(tail.x - 1, tail.y + 1);
                case D -> head.x < tail.x ? new Pos(tail.x - 1, tail.y - 1) : new Pos(head.x, tail.y - 1);
            };
        } else {
            return move(tail, direction);
        }
    }

    private static void a(String input) {
        Set<Pos> seenTail = new HashSet<>();
        Pos head = new Pos(0, 0);
        Pos tail = new Pos(0, 0);
        List<Move> moves = input.lines().map(Move::parse).toList();
        for (Move move : moves) {
            for (int i = 0; i < move.amount; i++) {
                head = move(head, move.direction);
                tail = moveTail(head, tail);
                seenTail.add(tail);
            }
        }
        System.out.println(seenTail.size());
    }

    private record Move(Direction direction, int amount) {
        static Move parse(String line) {
            return new Move(Direction.valueOf(line.substring(0, 1)), Integer.parseInt(line.substring(2)));
        }
    }

    private enum Direction {R, U, L, D}

    private static final String TEST_INPUT = "R 4\n"
                                             + "U 4\n"
                                             + "L 3\n"
                                             + "D 1\n"
                                             + "R 4\n"
                                             + "D 1\n"
                                             + "L 5\n"
                                             + "R 2";

    private static final String TEST_INPUT_2 = "R 5\n"
                                               + "U 8\n"
                                               + "L 8\n"
                                               + "D 3\n"
                                               + "R 17\n"
                                               + "D 10\n"
                                               + "L 25\n"
                                               + "U 20";

    private static final String INPUT = "U 1\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "U 2\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "R 1\n"
                                        + "D 1\n"
                                        + "U 2\n"
                                        + "L 1\n"
                                        + "R 1\n"
                                        + "U 1\n"
                                        + "L 1\n"
                                        + "D 1\n"
                                        + "L 1\n"
                                        + "D 1\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "U 1\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "L 1\n"
                                        + "D 1\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "D 1\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "D 2\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "R 1\n"
                                        + "D 2\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "D 1\n"
                                        + "U 1\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "D 2\n"
                                        + "R 1\n"
                                        + "D 1\n"
                                        + "U 1\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "R 1\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "D 1\n"
                                        + "U 2\n"
                                        + "D 1\n"
                                        + "U 1\n"
                                        + "D 2\n"
                                        + "R 2\n"
                                        + "L 1\n"
                                        + "D 1\n"
                                        + "U 1\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "D 1\n"
                                        + "L 2\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "L 1\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "D 1\n"
                                        + "U 3\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "U 3\n"
                                        + "R 1\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "U 3\n"
                                        + "R 2\n"
                                        + "D 1\n"
                                        + "U 3\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "R 3\n"
                                        + "L 2\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "U 3\n"
                                        + "D 1\n"
                                        + "U 3\n"
                                        + "L 2\n"
                                        + "D 1\n"
                                        + "R 2\n"
                                        + "U 3\n"
                                        + "R 3\n"
                                        + "L 3\n"
                                        + "D 3\n"
                                        + "R 3\n"
                                        + "U 3\n"
                                        + "L 3\n"
                                        + "U 1\n"
                                        + "L 2\n"
                                        + "U 3\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "D 3\n"
                                        + "R 3\n"
                                        + "U 1\n"
                                        + "R 1\n"
                                        + "U 1\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "R 2\n"
                                        + "U 3\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "U 3\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "D 2\n"
                                        + "R 3\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "D 3\n"
                                        + "L 1\n"
                                        + "R 1\n"
                                        + "U 1\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "U 1\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "R 3\n"
                                        + "L 3\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "R 3\n"
                                        + "D 1\n"
                                        + "U 1\n"
                                        + "L 2\n"
                                        + "R 1\n"
                                        + "D 3\n"
                                        + "U 3\n"
                                        + "D 3\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "R 1\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "U 1\n"
                                        + "D 1\n"
                                        + "L 3\n"
                                        + "R 1\n"
                                        + "L 3\n"
                                        + "R 3\n"
                                        + "L 1\n"
                                        + "D 2\n"
                                        + "L 3\n"
                                        + "U 2\n"
                                        + "D 1\n"
                                        + "L 1\n"
                                        + "U 2\n"
                                        + "R 3\n"
                                        + "L 2\n"
                                        + "R 3\n"
                                        + "U 3\n"
                                        + "L 2\n"
                                        + "D 4\n"
                                        + "U 4\n"
                                        + "R 3\n"
                                        + "U 2\n"
                                        + "L 1\n"
                                        + "U 3\n"
                                        + "D 4\n"
                                        + "L 2\n"
                                        + "U 3\n"
                                        + "L 4\n"
                                        + "D 4\n"
                                        + "R 3\n"
                                        + "D 3\n"
                                        + "R 1\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "D 3\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "U 3\n"
                                        + "D 4\n"
                                        + "R 4\n"
                                        + "L 2\n"
                                        + "R 4\n"
                                        + "U 3\n"
                                        + "R 4\n"
                                        + "U 4\n"
                                        + "L 4\n"
                                        + "D 3\n"
                                        + "R 4\n"
                                        + "D 1\n"
                                        + "U 3\n"
                                        + "L 3\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "R 3\n"
                                        + "U 4\n"
                                        + "D 2\n"
                                        + "U 3\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "D 3\n"
                                        + "L 4\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "L 2\n"
                                        + "U 4\n"
                                        + "D 2\n"
                                        + "U 4\n"
                                        + "L 4\n"
                                        + "U 2\n"
                                        + "R 3\n"
                                        + "D 4\n"
                                        + "U 4\n"
                                        + "L 3\n"
                                        + "D 3\n"
                                        + "R 4\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "L 4\n"
                                        + "U 3\n"
                                        + "D 2\n"
                                        + "L 4\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "D 4\n"
                                        + "R 1\n"
                                        + "U 1\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "L 3\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "R 1\n"
                                        + "D 4\n"
                                        + "U 1\n"
                                        + "R 1\n"
                                        + "U 3\n"
                                        + "D 1\n"
                                        + "U 2\n"
                                        + "D 3\n"
                                        + "U 3\n"
                                        + "L 2\n"
                                        + "U 4\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "D 3\n"
                                        + "U 3\n"
                                        + "L 3\n"
                                        + "U 1\n"
                                        + "D 1\n"
                                        + "R 1\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "D 3\n"
                                        + "R 1\n"
                                        + "L 4\n"
                                        + "U 3\n"
                                        + "L 5\n"
                                        + "R 5\n"
                                        + "L 4\n"
                                        + "D 4\n"
                                        + "R 4\n"
                                        + "L 4\n"
                                        + "R 4\n"
                                        + "L 2\n"
                                        + "R 3\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "L 4\n"
                                        + "R 2\n"
                                        + "U 5\n"
                                        + "D 5\n"
                                        + "U 1\n"
                                        + "R 4\n"
                                        + "U 2\n"
                                        + "R 3\n"
                                        + "L 4\n"
                                        + "D 2\n"
                                        + "U 3\n"
                                        + "D 4\n"
                                        + "U 2\n"
                                        + "D 5\n"
                                        + "L 5\n"
                                        + "R 2\n"
                                        + "U 3\n"
                                        + "R 1\n"
                                        + "D 1\n"
                                        + "R 4\n"
                                        + "U 5\n"
                                        + "R 3\n"
                                        + "L 3\n"
                                        + "U 3\n"
                                        + "L 1\n"
                                        + "U 5\n"
                                        + "D 2\n"
                                        + "U 3\n"
                                        + "R 1\n"
                                        + "D 5\n"
                                        + "L 4\n"
                                        + "U 3\n"
                                        + "D 1\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "U 1\n"
                                        + "L 2\n"
                                        + "R 2\n"
                                        + "D 4\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "U 2\n"
                                        + "D 1\n"
                                        + "L 1\n"
                                        + "R 4\n"
                                        + "L 1\n"
                                        + "D 2\n"
                                        + "R 1\n"
                                        + "L 5\n"
                                        + "R 4\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "U 1\n"
                                        + "D 3\n"
                                        + "R 3\n"
                                        + "L 1\n"
                                        + "U 5\n"
                                        + "R 2\n"
                                        + "D 3\n"
                                        + "U 3\n"
                                        + "R 1\n"
                                        + "U 4\n"
                                        + "R 1\n"
                                        + "D 2\n"
                                        + "L 1\n"
                                        + "D 4\n"
                                        + "L 1\n"
                                        + "R 5\n"
                                        + "L 5\n"
                                        + "R 5\n"
                                        + "L 1\n"
                                        + "U 5\n"
                                        + "R 2\n"
                                        + "U 5\n"
                                        + "L 2\n"
                                        + "D 3\n"
                                        + "U 5\n"
                                        + "L 4\n"
                                        + "D 5\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "R 4\n"
                                        + "L 4\n"
                                        + "D 5\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "R 5\n"
                                        + "U 2\n"
                                        + "L 1\n"
                                        + "U 2\n"
                                        + "D 2\n"
                                        + "R 5\n"
                                        + "U 1\n"
                                        + "L 5\n"
                                        + "R 1\n"
                                        + "L 4\n"
                                        + "D 4\n"
                                        + "L 3\n"
                                        + "D 4\n"
                                        + "U 2\n"
                                        + "L 2\n"
                                        + "D 5\n"
                                        + "U 4\n"
                                        + "R 3\n"
                                        + "L 6\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "R 6\n"
                                        + "U 5\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "R 1\n"
                                        + "U 5\n"
                                        + "L 3\n"
                                        + "U 2\n"
                                        + "R 5\n"
                                        + "L 3\n"
                                        + "U 3\n"
                                        + "D 2\n"
                                        + "U 5\n"
                                        + "L 5\n"
                                        + "U 4\n"
                                        + "R 6\n"
                                        + "D 2\n"
                                        + "L 6\n"
                                        + "U 1\n"
                                        + "L 5\n"
                                        + "D 4\n"
                                        + "U 3\n"
                                        + "D 3\n"
                                        + "U 5\n"
                                        + "L 6\n"
                                        + "U 4\n"
                                        + "D 3\n"
                                        + "U 4\n"
                                        + "D 6\n"
                                        + "R 1\n"
                                        + "U 4\n"
                                        + "L 1\n"
                                        + "D 4\n"
                                        + "U 5\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "D 1\n"
                                        + "L 3\n"
                                        + "R 6\n"
                                        + "L 2\n"
                                        + "U 5\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "L 2\n"
                                        + "D 4\n"
                                        + "U 4\n"
                                        + "L 4\n"
                                        + "D 1\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "R 5\n"
                                        + "L 2\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "L 1\n"
                                        + "U 4\n"
                                        + "D 4\n"
                                        + "R 5\n"
                                        + "L 3\n"
                                        + "U 2\n"
                                        + "D 3\n"
                                        + "R 6\n"
                                        + "D 3\n"
                                        + "R 3\n"
                                        + "L 4\n"
                                        + "U 5\n"
                                        + "D 3\n"
                                        + "R 5\n"
                                        + "U 4\n"
                                        + "R 2\n"
                                        + "U 4\n"
                                        + "L 1\n"
                                        + "U 6\n"
                                        + "D 6\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "U 6\n"
                                        + "D 5\n"
                                        + "L 1\n"
                                        + "U 3\n"
                                        + "L 1\n"
                                        + "D 6\n"
                                        + "L 3\n"
                                        + "U 4\n"
                                        + "D 6\n"
                                        + "U 4\n"
                                        + "D 3\n"
                                        + "L 3\n"
                                        + "U 5\n"
                                        + "R 2\n"
                                        + "L 5\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "U 1\n"
                                        + "D 2\n"
                                        + "R 2\n"
                                        + "U 5\n"
                                        + "R 4\n"
                                        + "U 1\n"
                                        + "R 5\n"
                                        + "D 2\n"
                                        + "R 2\n"
                                        + "U 5\n"
                                        + "L 6\n"
                                        + "U 3\n"
                                        + "L 7\n"
                                        + "D 1\n"
                                        + "R 4\n"
                                        + "D 4\n"
                                        + "R 7\n"
                                        + "L 7\n"
                                        + "U 7\n"
                                        + "D 4\n"
                                        + "L 4\n"
                                        + "R 6\n"
                                        + "U 6\n"
                                        + "L 7\n"
                                        + "R 3\n"
                                        + "L 6\n"
                                        + "U 6\n"
                                        + "R 5\n"
                                        + "D 4\n"
                                        + "L 6\n"
                                        + "U 1\n"
                                        + "R 6\n"
                                        + "D 3\n"
                                        + "U 5\n"
                                        + "D 3\n"
                                        + "U 2\n"
                                        + "R 7\n"
                                        + "U 5\n"
                                        + "D 5\n"
                                        + "L 2\n"
                                        + "D 2\n"
                                        + "U 4\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "R 6\n"
                                        + "D 4\n"
                                        + "L 7\n"
                                        + "D 7\n"
                                        + "R 4\n"
                                        + "L 6\n"
                                        + "R 3\n"
                                        + "L 3\n"
                                        + "U 7\n"
                                        + "R 3\n"
                                        + "L 5\n"
                                        + "D 6\n"
                                        + "R 3\n"
                                        + "U 5\n"
                                        + "D 3\n"
                                        + "L 4\n"
                                        + "U 7\n"
                                        + "R 6\n"
                                        + "D 6\n"
                                        + "U 5\n"
                                        + "R 3\n"
                                        + "L 3\n"
                                        + "R 6\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "L 3\n"
                                        + "U 5\n"
                                        + "D 2\n"
                                        + "L 3\n"
                                        + "R 4\n"
                                        + "L 7\n"
                                        + "R 5\n"
                                        + "U 3\n"
                                        + "L 7\n"
                                        + "D 5\n"
                                        + "U 6\n"
                                        + "D 5\n"
                                        + "L 6\n"
                                        + "R 6\n"
                                        + "L 1\n"
                                        + "R 3\n"
                                        + "D 4\n"
                                        + "L 5\n"
                                        + "R 2\n"
                                        + "U 4\n"
                                        + "R 2\n"
                                        + "D 4\n"
                                        + "R 3\n"
                                        + "D 2\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "L 4\n"
                                        + "R 5\n"
                                        + "U 7\n"
                                        + "L 7\n"
                                        + "D 3\n"
                                        + "R 5\n"
                                        + "L 1\n"
                                        + "U 4\n"
                                        + "R 5\n"
                                        + "U 4\n"
                                        + "R 6\n"
                                        + "L 1\n"
                                        + "R 4\n"
                                        + "D 8\n"
                                        + "L 2\n"
                                        + "U 7\n"
                                        + "L 3\n"
                                        + "R 3\n"
                                        + "U 1\n"
                                        + "D 8\n"
                                        + "U 5\n"
                                        + "D 3\n"
                                        + "R 3\n"
                                        + "L 2\n"
                                        + "U 2\n"
                                        + "D 8\n"
                                        + "R 3\n"
                                        + "U 4\n"
                                        + "L 6\n"
                                        + "D 7\n"
                                        + "R 7\n"
                                        + "U 6\n"
                                        + "L 7\n"
                                        + "U 5\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "U 4\n"
                                        + "D 1\n"
                                        + "L 6\n"
                                        + "D 5\n"
                                        + "R 7\n"
                                        + "U 7\n"
                                        + "R 8\n"
                                        + "L 7\n"
                                        + "U 7\n"
                                        + "D 3\n"
                                        + "L 3\n"
                                        + "D 4\n"
                                        + "L 1\n"
                                        + "R 6\n"
                                        + "D 5\n"
                                        + "U 1\n"
                                        + "D 8\n"
                                        + "R 1\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "D 2\n"
                                        + "L 3\n"
                                        + "R 7\n"
                                        + "L 2\n"
                                        + "D 8\n"
                                        + "R 5\n"
                                        + "U 6\n"
                                        + "D 4\n"
                                        + "L 1\n"
                                        + "U 6\n"
                                        + "R 1\n"
                                        + "D 4\n"
                                        + "R 4\n"
                                        + "L 2\n"
                                        + "D 4\n"
                                        + "R 1\n"
                                        + "U 2\n"
                                        + "R 8\n"
                                        + "L 6\n"
                                        + "R 8\n"
                                        + "U 8\n"
                                        + "L 3\n"
                                        + "R 6\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "U 6\n"
                                        + "D 6\n"
                                        + "U 4\n"
                                        + "R 7\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "L 4\n"
                                        + "U 3\n"
                                        + "R 7\n"
                                        + "D 8\n"
                                        + "R 1\n"
                                        + "D 6\n"
                                        + "U 7\n"
                                        + "R 2\n"
                                        + "U 2\n"
                                        + "L 6\n"
                                        + "U 5\n"
                                        + "R 1\n"
                                        + "D 1\n"
                                        + "R 6\n"
                                        + "L 2\n"
                                        + "U 3\n"
                                        + "D 2\n"
                                        + "L 2\n"
                                        + "D 5\n"
                                        + "R 4\n"
                                        + "L 1\n"
                                        + "D 7\n"
                                        + "R 6\n"
                                        + "D 4\n"
                                        + "U 2\n"
                                        + "D 5\n"
                                        + "U 3\n"
                                        + "D 8\n"
                                        + "U 6\n"
                                        + "R 5\n"
                                        + "L 6\n"
                                        + "U 7\n"
                                        + "L 3\n"
                                        + "R 8\n"
                                        + "U 3\n"
                                        + "L 2\n"
                                        + "R 3\n"
                                        + "L 5\n"
                                        + "R 3\n"
                                        + "L 2\n"
                                        + "U 9\n"
                                        + "D 2\n"
                                        + "U 5\n"
                                        + "R 7\n"
                                        + "U 9\n"
                                        + "L 9\n"
                                        + "R 6\n"
                                        + "L 7\n"
                                        + "D 1\n"
                                        + "L 4\n"
                                        + "D 3\n"
                                        + "R 7\n"
                                        + "L 6\n"
                                        + "R 9\n"
                                        + "D 6\n"
                                        + "R 4\n"
                                        + "D 8\n"
                                        + "L 1\n"
                                        + "U 5\n"
                                        + "R 9\n"
                                        + "D 9\n"
                                        + "U 6\n"
                                        + "L 5\n"
                                        + "R 4\n"
                                        + "D 2\n"
                                        + "R 5\n"
                                        + "D 1\n"
                                        + "R 6\n"
                                        + "D 3\n"
                                        + "R 8\n"
                                        + "L 1\n"
                                        + "U 2\n"
                                        + "R 5\n"
                                        + "U 3\n"
                                        + "L 1\n"
                                        + "R 8\n"
                                        + "D 6\n"
                                        + "L 5\n"
                                        + "D 7\n"
                                        + "R 3\n"
                                        + "U 2\n"
                                        + "L 7\n"
                                        + "U 3\n"
                                        + "D 4\n"
                                        + "L 2\n"
                                        + "R 8\n"
                                        + "D 6\n"
                                        + "L 3\n"
                                        + "U 5\n"
                                        + "L 1\n"
                                        + "U 5\n"
                                        + "L 4\n"
                                        + "R 7\n"
                                        + "U 6\n"
                                        + "R 1\n"
                                        + "D 3\n"
                                        + "U 3\n"
                                        + "D 2\n"
                                        + "R 4\n"
                                        + "L 5\n"
                                        + "U 2\n"
                                        + "R 6\n"
                                        + "L 8\n"
                                        + "U 6\n"
                                        + "L 9\n"
                                        + "D 3\n"
                                        + "R 3\n"
                                        + "U 9\n"
                                        + "D 8\n"
                                        + "L 2\n"
                                        + "R 7\n"
                                        + "D 6\n"
                                        + "R 1\n"
                                        + "D 8\n"
                                        + "U 8\n"
                                        + "D 2\n"
                                        + "U 4\n"
                                        + "D 8\n"
                                        + "L 9\n"
                                        + "R 8\n"
                                        + "D 8\n"
                                        + "R 7\n"
                                        + "U 8\n"
                                        + "L 8\n"
                                        + "U 8\n"
                                        + "R 7\n"
                                        + "L 8\n"
                                        + "U 3\n"
                                        + "D 6\n"
                                        + "R 7\n"
                                        + "D 2\n"
                                        + "L 5\n"
                                        + "U 8\n"
                                        + "D 7\n"
                                        + "U 6\n"
                                        + "R 3\n"
                                        + "D 7\n"
                                        + "U 9\n"
                                        + "L 7\n"
                                        + "R 3\n"
                                        + "L 1\n"
                                        + "U 9\n"
                                        + "L 7\n"
                                        + "U 2\n"
                                        + "D 7\n"
                                        + "L 5\n"
                                        + "R 9\n"
                                        + "D 2\n"
                                        + "R 7\n"
                                        + "U 6\n"
                                        + "D 7\n"
                                        + "U 3\n"
                                        + "R 8\n"
                                        + "U 9\n"
                                        + "L 8\n"
                                        + "R 8\n"
                                        + "D 10\n"
                                        + "L 7\n"
                                        + "R 3\n"
                                        + "U 5\n"
                                        + "R 5\n"
                                        + "D 9\n"
                                        + "U 10\n"
                                        + "L 2\n"
                                        + "D 4\n"
                                        + "L 2\n"
                                        + "U 1\n"
                                        + "D 3\n"
                                        + "L 3\n"
                                        + "U 7\n"
                                        + "D 6\n"
                                        + "L 6\n"
                                        + "D 7\n"
                                        + "L 8\n"
                                        + "U 1\n"
                                        + "D 9\n"
                                        + "L 7\n"
                                        + "U 4\n"
                                        + "L 3\n"
                                        + "U 6\n"
                                        + "D 2\n"
                                        + "L 5\n"
                                        + "U 10\n"
                                        + "D 9\n"
                                        + "U 8\n"
                                        + "D 1\n"
                                        + "R 10\n"
                                        + "U 4\n"
                                        + "L 1\n"
                                        + "R 7\n"
                                        + "U 2\n"
                                        + "L 5\n"
                                        + "D 5\n"
                                        + "R 7\n"
                                        + "D 1\n"
                                        + "R 4\n"
                                        + "U 2\n"
                                        + "D 6\n"
                                        + "L 7\n"
                                        + "U 10\n"
                                        + "R 3\n"
                                        + "L 9\n"
                                        + "D 7\n"
                                        + "L 2\n"
                                        + "R 5\n"
                                        + "U 10\n"
                                        + "D 10\n"
                                        + "R 9\n"
                                        + "D 5\n"
                                        + "U 3\n"
                                        + "L 7\n"
                                        + "D 5\n"
                                        + "U 6\n"
                                        + "D 7\n"
                                        + "L 6\n"
                                        + "D 10\n"
                                        + "R 7\n"
                                        + "U 8\n"
                                        + "L 4\n"
                                        + "D 9\n"
                                        + "L 4\n"
                                        + "U 5\n"
                                        + "R 9\n"
                                        + "U 9\n"
                                        + "R 3\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "D 1\n"
                                        + "R 1\n"
                                        + "U 6\n"
                                        + "R 8\n"
                                        + "D 10\n"
                                        + "U 2\n"
                                        + "D 9\n"
                                        + "L 8\n"
                                        + "R 1\n"
                                        + "D 1\n"
                                        + "L 9\n"
                                        + "R 8\n"
                                        + "D 9\n"
                                        + "R 5\n"
                                        + "L 9\n"
                                        + "U 10\n"
                                        + "D 4\n"
                                        + "R 7\n"
                                        + "U 4\n"
                                        + "L 3\n"
                                        + "U 8\n"
                                        + "L 2\n"
                                        + "U 9\n"
                                        + "D 9\n"
                                        + "L 1\n"
                                        + "R 4\n"
                                        + "U 2\n"
                                        + "L 4\n"
                                        + "U 3\n"
                                        + "D 7\n"
                                        + "U 11\n"
                                        + "R 6\n"
                                        + "U 9\n"
                                        + "D 6\n"
                                        + "R 7\n"
                                        + "L 1\n"
                                        + "D 7\n"
                                        + "R 2\n"
                                        + "D 6\n"
                                        + "U 2\n"
                                        + "L 2\n"
                                        + "U 4\n"
                                        + "R 6\n"
                                        + "U 6\n"
                                        + "L 11\n"
                                        + "D 7\n"
                                        + "R 9\n"
                                        + "L 2\n"
                                        + "D 10\n"
                                        + "L 10\n"
                                        + "U 4\n"
                                        + "L 6\n"
                                        + "D 11\n"
                                        + "U 9\n"
                                        + "L 1\n"
                                        + "R 10\n"
                                        + "L 7\n"
                                        + "R 4\n"
                                        + "D 5\n"
                                        + "L 3\n"
                                        + "U 2\n"
                                        + "R 9\n"
                                        + "L 9\n"
                                        + "D 1\n"
                                        + "L 11\n"
                                        + "D 5\n"
                                        + "U 6\n"
                                        + "D 5\n"
                                        + "U 9\n"
                                        + "R 1\n"
                                        + "L 7\n"
                                        + "U 3\n"
                                        + "R 7\n"
                                        + "L 2\n"
                                        + "D 6\n"
                                        + "R 3\n"
                                        + "U 2\n"
                                        + "D 5\n"
                                        + "R 9\n"
                                        + "L 3\n"
                                        + "D 11\n"
                                        + "U 9\n"
                                        + "D 11\n"
                                        + "R 2\n"
                                        + "D 7\n"
                                        + "R 9\n"
                                        + "U 4\n"
                                        + "D 6\n"
                                        + "U 7\n"
                                        + "R 10\n"
                                        + "D 3\n"
                                        + "L 4\n"
                                        + "R 9\n"
                                        + "D 3\n"
                                        + "L 7\n"
                                        + "R 7\n"
                                        + "L 11\n"
                                        + "D 6\n"
                                        + "R 9\n"
                                        + "D 9\n"
                                        + "R 3\n"
                                        + "U 3\n"
                                        + "R 3\n"
                                        + "L 6\n"
                                        + "D 11\n"
                                        + "R 2\n"
                                        + "L 10\n"
                                        + "U 2\n"
                                        + "R 2\n"
                                        + "D 11\n"
                                        + "R 7\n"
                                        + "D 8\n"
                                        + "R 2\n"
                                        + "D 10\n"
                                        + "U 5\n"
                                        + "D 3\n"
                                        + "L 10\n"
                                        + "R 1\n"
                                        + "D 5\n"
                                        + "R 4\n"
                                        + "L 10\n"
                                        + "U 5\n"
                                        + "D 9\n"
                                        + "U 2\n"
                                        + "L 3\n"
                                        + "U 3\n"
                                        + "R 5\n"
                                        + "D 4\n"
                                        + "L 1\n"
                                        + "D 1\n"
                                        + "R 10\n"
                                        + "L 4\n"
                                        + "D 8\n"
                                        + "L 5\n"
                                        + "D 5\n"
                                        + "L 3\n"
                                        + "D 5\n"
                                        + "L 3\n"
                                        + "R 1\n"
                                        + "L 3\n"
                                        + "R 4\n"
                                        + "U 9\n"
                                        + "R 4\n"
                                        + "D 12\n"
                                        + "L 5\n"
                                        + "R 4\n"
                                        + "L 11\n"
                                        + "D 10\n"
                                        + "U 3\n"
                                        + "R 2\n"
                                        + "U 5\n"
                                        + "L 6\n"
                                        + "D 5\n"
                                        + "U 5\n"
                                        + "D 10\n"
                                        + "R 12\n"
                                        + "L 2\n"
                                        + "R 10\n"
                                        + "D 11\n"
                                        + "R 12\n"
                                        + "U 5\n"
                                        + "R 4\n"
                                        + "L 4\n"
                                        + "U 2\n"
                                        + "R 12\n"
                                        + "L 6\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "D 1\n"
                                        + "U 9\n"
                                        + "L 6\n"
                                        + "U 6\n"
                                        + "L 10\n"
                                        + "D 8\n"
                                        + "R 9\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "D 5\n"
                                        + "U 4\n"
                                        + "R 10\n"
                                        + "U 5\n"
                                        + "R 10\n"
                                        + "D 12\n"
                                        + "U 6\n"
                                        + "D 9\n"
                                        + "U 3\n"
                                        + "L 8\n"
                                        + "R 8\n"
                                        + "D 7\n"
                                        + "L 6\n"
                                        + "U 7\n"
                                        + "R 1\n"
                                        + "U 6\n"
                                        + "D 9\n"
                                        + "R 2\n"
                                        + "U 11\n"
                                        + "D 7\n"
                                        + "L 12\n"
                                        + "D 6\n"
                                        + "L 5\n"
                                        + "U 8\n"
                                        + "R 8\n"
                                        + "L 8\n"
                                        + "D 3\n"
                                        + "R 7\n"
                                        + "L 11\n"
                                        + "D 1\n"
                                        + "L 5\n"
                                        + "D 5\n"
                                        + "U 8\n"
                                        + "D 2\n"
                                        + "R 8\n"
                                        + "L 6\n"
                                        + "D 7\n"
                                        + "L 3\n"
                                        + "D 3\n"
                                        + "U 9\n"
                                        + "L 1\n"
                                        + "U 8\n"
                                        + "D 7\n"
                                        + "L 8\n"
                                        + "U 4\n"
                                        + "R 12\n"
                                        + "U 7\n"
                                        + "L 10\n"
                                        + "D 4\n"
                                        + "U 7\n"
                                        + "D 7\n"
                                        + "U 5\n"
                                        + "L 4\n"
                                        + "R 9\n"
                                        + "D 5\n"
                                        + "R 4\n"
                                        + "U 2\n"
                                        + "R 1\n"
                                        + "D 9\n"
                                        + "U 7\n"
                                        + "R 9\n"
                                        + "U 12\n"
                                        + "D 4\n"
                                        + "R 8\n"
                                        + "U 4\n"
                                        + "D 10\n"
                                        + "L 10\n"
                                        + "D 11\n"
                                        + "L 8\n"
                                        + "R 11\n"
                                        + "U 5\n"
                                        + "D 4\n"
                                        + "L 3\n"
                                        + "D 1\n"
                                        + "U 7\n"
                                        + "L 5\n"
                                        + "R 13\n"
                                        + "L 2\n"
                                        + "R 9\n"
                                        + "L 6\n"
                                        + "R 6\n"
                                        + "L 2\n"
                                        + "U 10\n"
                                        + "D 11\n"
                                        + "U 13\n"
                                        + "R 11\n"
                                        + "U 6\n"
                                        + "L 7\n"
                                        + "D 11\n"
                                        + "R 7\n"
                                        + "U 4\n"
                                        + "L 1\n"
                                        + "D 9\n"
                                        + "R 7\n"
                                        + "L 11\n"
                                        + "U 13\n"
                                        + "L 8\n"
                                        + "R 12\n"
                                        + "U 5\n"
                                        + "R 9\n"
                                        + "U 11\n"
                                        + "R 3\n"
                                        + "D 11\n"
                                        + "U 9\n"
                                        + "L 8\n"
                                        + "U 6\n"
                                        + "D 6\n"
                                        + "L 11\n"
                                        + "U 4\n"
                                        + "D 3\n"
                                        + "U 11\n"
                                        + "D 1\n"
                                        + "L 6\n"
                                        + "U 5\n"
                                        + "R 10\n"
                                        + "L 10\n"
                                        + "R 8\n"
                                        + "L 12\n"
                                        + "R 4\n"
                                        + "U 3\n"
                                        + "R 8\n"
                                        + "L 8\n"
                                        + "U 4\n"
                                        + "L 10\n"
                                        + "U 9\n"
                                        + "R 8\n"
                                        + "U 3\n"
                                        + "D 2\n"
                                        + "U 4\n"
                                        + "D 10\n"
                                        + "L 6\n"
                                        + "R 10\n"
                                        + "U 8\n"
                                        + "L 9\n"
                                        + "R 13\n"
                                        + "D 8\n"
                                        + "U 10\n"
                                        + "D 10\n"
                                        + "L 13\n"
                                        + "U 1\n"
                                        + "R 4\n"
                                        + "U 11\n"
                                        + "D 12\n"
                                        + "L 1\n"
                                        + "R 2\n"
                                        + "U 12\n"
                                        + "D 7\n"
                                        + "U 9\n"
                                        + "R 13\n"
                                        + "U 5\n"
                                        + "D 6\n"
                                        + "R 4\n"
                                        + "L 6\n"
                                        + "U 9\n"
                                        + "L 5\n"
                                        + "U 8\n"
                                        + "D 4\n"
                                        + "L 5\n"
                                        + "U 6\n"
                                        + "L 8\n"
                                        + "U 1\n"
                                        + "R 3\n"
                                        + "U 8\n"
                                        + "R 2\n"
                                        + "D 5\n"
                                        + "U 12\n"
                                        + "D 9\n"
                                        + "L 2\n"
                                        + "U 3\n"
                                        + "R 11\n"
                                        + "U 9\n"
                                        + "R 7\n"
                                        + "D 10\n"
                                        + "U 2\n"
                                        + "L 3\n"
                                        + "D 3\n"
                                        + "U 9\n"
                                        + "D 6\n"
                                        + "U 1\n"
                                        + "R 9\n"
                                        + "L 5\n"
                                        + "R 2\n"
                                        + "L 2\n"
                                        + "R 11\n"
                                        + "D 7\n"
                                        + "L 10\n"
                                        + "U 13\n"
                                        + "L 6\n"
                                        + "R 11\n"
                                        + "U 6\n"
                                        + "D 11\n"
                                        + "U 4\n"
                                        + "R 10\n"
                                        + "D 5\n"
                                        + "R 4\n"
                                        + "L 6\n"
                                        + "U 3\n"
                                        + "L 8\n"
                                        + "D 6\n"
                                        + "U 14\n"
                                        + "R 3\n"
                                        + "U 1\n"
                                        + "L 6\n"
                                        + "R 7\n"
                                        + "U 9\n"
                                        + "L 9\n"
                                        + "D 10\n"
                                        + "U 10\n"
                                        + "D 12\n"
                                        + "R 9\n"
                                        + "D 12\n"
                                        + "R 4\n"
                                        + "D 12\n"
                                        + "U 9\n"
                                        + "R 9\n"
                                        + "U 2\n"
                                        + "L 11\n"
                                        + "D 13\n"
                                        + "U 12\n"
                                        + "L 7\n"
                                        + "D 14\n"
                                        + "R 4\n"
                                        + "D 14\n"
                                        + "U 11\n"
                                        + "D 5\n"
                                        + "R 10\n"
                                        + "L 2\n"
                                        + "D 11\n"
                                        + "L 3\n"
                                        + "U 9\n"
                                        + "R 4\n"
                                        + "L 8\n"
                                        + "U 8\n"
                                        + "R 7\n"
                                        + "U 7\n"
                                        + "D 5\n"
                                        + "R 8\n"
                                        + "U 5\n"
                                        + "L 3\n"
                                        + "R 7\n"
                                        + "D 6\n"
                                        + "R 12\n"
                                        + "U 3\n"
                                        + "D 8\n"
                                        + "L 8\n"
                                        + "U 3\n"
                                        + "L 8\n"
                                        + "R 7\n"
                                        + "L 13\n"
                                        + "U 2\n"
                                        + "L 8\n"
                                        + "U 14\n"
                                        + "R 5\n"
                                        + "L 1\n"
                                        + "D 14\n"
                                        + "R 10\n"
                                        + "U 14\n"
                                        + "R 6\n"
                                        + "U 14\n"
                                        + "D 5\n"
                                        + "U 13\n"
                                        + "D 1\n"
                                        + "U 12\n"
                                        + "R 7\n"
                                        + "L 2\n"
                                        + "U 4\n"
                                        + "R 10\n"
                                        + "U 8\n"
                                        + "R 12\n"
                                        + "L 2\n"
                                        + "U 7\n"
                                        + "D 9\n"
                                        + "L 6\n"
                                        + "D 3\n"
                                        + "U 7\n"
                                        + "L 11\n"
                                        + "U 8\n"
                                        + "R 7\n"
                                        + "D 5\n"
                                        + "U 5\n"
                                        + "R 13\n"
                                        + "D 9\n"
                                        + "R 14\n"
                                        + "U 8\n"
                                        + "R 14\n"
                                        + "D 8\n"
                                        + "U 1\n"
                                        + "L 13\n"
                                        + "R 12\n"
                                        + "D 7\n"
                                        + "L 6\n"
                                        + "R 3\n"
                                        + "D 10\n"
                                        + "R 10\n"
                                        + "L 6\n"
                                        + "D 12\n"
                                        + "L 5\n"
                                        + "U 14\n"
                                        + "D 1\n"
                                        + "U 8\n"
                                        + "R 5\n"
                                        + "D 15\n"
                                        + "R 11\n"
                                        + "D 10\n"
                                        + "L 11\n"
                                        + "D 13\n"
                                        + "L 5\n"
                                        + "D 3\n"
                                        + "U 15\n"
                                        + "R 6\n"
                                        + "L 12\n"
                                        + "R 12\n"
                                        + "L 15\n"
                                        + "U 5\n"
                                        + "D 8\n"
                                        + "R 13\n"
                                        + "D 10\n"
                                        + "R 4\n"
                                        + "L 6\n"
                                        + "U 8\n"
                                        + "R 6\n"
                                        + "D 15\n"
                                        + "U 6\n"
                                        + "L 13\n"
                                        + "D 15\n"
                                        + "U 11\n"
                                        + "D 6\n"
                                        + "U 7\n"
                                        + "L 1\n"
                                        + "R 5\n"
                                        + "L 1\n"
                                        + "U 7\n"
                                        + "D 15\n"
                                        + "L 1\n"
                                        + "D 7\n"
                                        + "U 6\n"
                                        + "R 14\n"
                                        + "D 4\n"
                                        + "R 5\n"
                                        + "U 4\n"
                                        + "D 5\n"
                                        + "R 13\n"
                                        + "D 5\n"
                                        + "L 1\n"
                                        + "D 11\n"
                                        + "L 3\n"
                                        + "D 3\n"
                                        + "R 13\n"
                                        + "L 15\n"
                                        + "D 4\n"
                                        + "R 4\n"
                                        + "U 5\n"
                                        + "L 10\n"
                                        + "U 14\n"
                                        + "D 2\n"
                                        + "R 9\n"
                                        + "U 8\n"
                                        + "R 1\n"
                                        + "U 13\n"
                                        + "L 5\n"
                                        + "U 12\n"
                                        + "R 10\n"
                                        + "U 8\n"
                                        + "L 9\n"
                                        + "D 7\n"
                                        + "R 10\n"
                                        + "L 8\n"
                                        + "R 13\n"
                                        + "D 12\n"
                                        + "L 2\n"
                                        + "R 4\n"
                                        + "D 14\n"
                                        + "R 14\n"
                                        + "D 2\n"
                                        + "U 4\n"
                                        + "D 14\n"
                                        + "U 1\n"
                                        + "L 3\n"
                                        + "R 7\n"
                                        + "L 2\n"
                                        + "D 10\n"
                                        + "R 10\n"
                                        + "L 1\n"
                                        + "R 5\n"
                                        + "D 6\n"
                                        + "L 5\n"
                                        + "R 11\n"
                                        + "U 15\n"
                                        + "L 6\n"
                                        + "D 4\n"
                                        + "R 14\n"
                                        + "D 6\n"
                                        + "R 1\n"
                                        + "L 12\n"
                                        + "R 15\n"
                                        + "L 10\n"
                                        + "U 1\n"
                                        + "D 3\n"
                                        + "R 2\n"
                                        + "D 2\n"
                                        + "L 8\n"
                                        + "U 9\n"
                                        + "D 14\n"
                                        + "L 4\n"
                                        + "R 2\n"
                                        + "U 14\n"
                                        + "L 11\n"
                                        + "D 12\n"
                                        + "U 5\n"
                                        + "L 11\n"
                                        + "R 5\n"
                                        + "U 14\n"
                                        + "R 9\n"
                                        + "U 12\n"
                                        + "L 12\n"
                                        + "D 9\n"
                                        + "R 10\n"
                                        + "D 4\n"
                                        + "L 3\n"
                                        + "U 4\n"
                                        + "R 2\n"
                                        + "D 9\n"
                                        + "U 5\n"
                                        + "L 13\n"
                                        + "U 5\n"
                                        + "R 15\n"
                                        + "L 4\n"
                                        + "R 10\n"
                                        + "U 8\n"
                                        + "R 3\n"
                                        + "U 13\n"
                                        + "D 4\n"
                                        + "U 4\n"
                                        + "L 8\n"
                                        + "U 1\n"
                                        + "D 13\n"
                                        + "R 10\n"
                                        + "U 13\n"
                                        + "L 5\n"
                                        + "U 7\n"
                                        + "D 2\n"
                                        + "U 15\n"
                                        + "R 10\n"
                                        + "U 12\n"
                                        + "D 9\n"
                                        + "R 12\n"
                                        + "L 3\n"
                                        + "D 7\n"
                                        + "R 7\n"
                                        + "L 3\n"
                                        + "R 14\n"
                                        + "L 9\n"
                                        + "D 4\n"
                                        + "R 8\n"
                                        + "D 1\n"
                                        + "R 1\n"
                                        + "U 1\n"
                                        + "R 14\n"
                                        + "L 7\n"
                                        + "R 10\n"
                                        + "D 14\n"
                                        + "L 1\n"
                                        + "U 12\n"
                                        + "D 8\n"
                                        + "U 1\n"
                                        + "R 13\n"
                                        + "U 12\n"
                                        + "D 4\n"
                                        + "U 8\n"
                                        + "L 8\n"
                                        + "D 8\n"
                                        + "L 4\n"
                                        + "R 2\n"
                                        + "D 6\n"
                                        + "R 2\n"
                                        + "L 3\n"
                                        + "D 16\n"
                                        + "R 6\n"
                                        + "L 16\n"
                                        + "D 16\n"
                                        + "L 2\n"
                                        + "R 16\n"
                                        + "D 15\n"
                                        + "L 1\n"
                                        + "D 4\n"
                                        + "U 3\n"
                                        + "L 5\n"
                                        + "U 4\n"
                                        + "L 4\n"
                                        + "D 9\n"
                                        + "L 2\n"
                                        + "R 8\n"
                                        + "D 7\n"
                                        + "U 7\n"
                                        + "R 12\n"
                                        + "U 12\n"
                                        + "R 3\n"
                                        + "D 8\n"
                                        + "L 12\n"
                                        + "D 12\n"
                                        + "R 13\n"
                                        + "U 8\n"
                                        + "R 5\n"
                                        + "U 2\n"
                                        + "D 3\n"
                                        + "U 11\n"
                                        + "L 13\n"
                                        + "R 4\n"
                                        + "L 5\n"
                                        + "R 9\n"
                                        + "D 9\n"
                                        + "U 14\n"
                                        + "R 15\n"
                                        + "L 16\n"
                                        + "R 13\n"
                                        + "D 11\n"
                                        + "U 13\n"
                                        + "L 10\n"
                                        + "D 11\n"
                                        + "L 10\n"
                                        + "R 4\n"
                                        + "U 7\n"
                                        + "D 17\n"
                                        + "U 7\n"
                                        + "R 10\n"
                                        + "U 11\n"
                                        + "L 2\n"
                                        + "D 8\n"
                                        + "U 3\n"
                                        + "R 14\n"
                                        + "U 13\n"
                                        + "D 8\n"
                                        + "U 6\n"
                                        + "L 2\n"
                                        + "D 9\n"
                                        + "L 1\n"
                                        + "D 4\n"
                                        + "U 16\n"
                                        + "D 4\n"
                                        + "L 13\n"
                                        + "U 1\n"
                                        + "D 13\n"
                                        + "U 12\n"
                                        + "R 17\n"
                                        + "L 6\n"
                                        + "R 17\n"
                                        + "L 17\n"
                                        + "R 13\n"
                                        + "L 9\n"
                                        + "U 12\n"
                                        + "L 15\n"
                                        + "R 17\n"
                                        + "U 3\n"
                                        + "R 2\n"
                                        + "L 12\n"
                                        + "U 7\n"
                                        + "L 12\n"
                                        + "U 9\n"
                                        + "L 15\n"
                                        + "R 9\n"
                                        + "U 3\n"
                                        + "L 13\n"
                                        + "R 8\n"
                                        + "L 3\n"
                                        + "R 2\n"
                                        + "L 17\n"
                                        + "U 14\n"
                                        + "D 16\n"
                                        + "L 13\n"
                                        + "D 2\n"
                                        + "U 17\n"
                                        + "D 6\n"
                                        + "U 8\n"
                                        + "L 5\n"
                                        + "D 10\n"
                                        + "L 3\n"
                                        + "D 3\n"
                                        + "R 7\n"
                                        + "L 16\n"
                                        + "R 8\n"
                                        + "U 13\n"
                                        + "L 17\n"
                                        + "U 16\n"
                                        + "L 9\n"
                                        + "U 8\n"
                                        + "D 12\n"
                                        + "R 10\n"
                                        + "U 11\n"
                                        + "D 10\n"
                                        + "L 17\n"
                                        + "R 3\n"
                                        + "D 7\n"
                                        + "U 13\n"
                                        + "D 11\n"
                                        + "R 7\n"
                                        + "D 16\n"
                                        + "U 4\n"
                                        + "R 12\n"
                                        + "D 12\n"
                                        + "U 11\n"
                                        + "D 2\n"
                                        + "L 9\n"
                                        + "D 6\n"
                                        + "L 4\n"
                                        + "R 5\n"
                                        + "L 13\n"
                                        + "U 7\n"
                                        + "L 12\n"
                                        + "D 1\n"
                                        + "L 15\n"
                                        + "U 8\n"
                                        + "R 4\n"
                                        + "U 15\n"
                                        + "R 15\n"
                                        + "D 7\n"
                                        + "R 8\n"
                                        + "U 9\n"
                                        + "R 5\n"
                                        + "D 12\n"
                                        + "R 12\n"
                                        + "U 2\n"
                                        + "D 13\n"
                                        + "U 2\n"
                                        + "L 6\n"
                                        + "D 8\n"
                                        + "U 12\n"
                                        + "R 6\n"
                                        + "D 16\n"
                                        + "U 4\n"
                                        + "R 9\n"
                                        + "L 6\n"
                                        + "U 18\n"
                                        + "L 7\n"
                                        + "R 15\n"
                                        + "U 8\n"
                                        + "D 18\n"
                                        + "L 11\n"
                                        + "R 16\n"
                                        + "D 2\n"
                                        + "R 7\n"
                                        + "D 8\n"
                                        + "L 10\n"
                                        + "U 15\n"
                                        + "L 13\n"
                                        + "D 7\n"
                                        + "R 13\n"
                                        + "D 14\n"
                                        + "R 2\n"
                                        + "L 14\n"
                                        + "D 4\n"
                                        + "L 10\n"
                                        + "R 13\n"
                                        + "L 18\n"
                                        + "U 15\n"
                                        + "L 17\n"
                                        + "R 18\n"
                                        + "D 2\n"
                                        + "U 7\n"
                                        + "R 18\n"
                                        + "D 4\n"
                                        + "L 1\n"
                                        + "U 12\n"
                                        + "L 1\n"
                                        + "U 16\n"
                                        + "D 6\n"
                                        + "R 7\n"
                                        + "U 9\n"
                                        + "L 1\n"
                                        + "U 13\n"
                                        + "R 2\n"
                                        + "L 8\n"
                                        + "D 5\n"
                                        + "R 18\n"
                                        + "D 16\n"
                                        + "R 8\n"
                                        + "D 2\n"
                                        + "R 13\n"
                                        + "L 16\n"
                                        + "R 18\n"
                                        + "L 10\n"
                                        + "D 6\n"
                                        + "U 4\n"
                                        + "D 15\n"
                                        + "U 3\n"
                                        + "D 9\n"
                                        + "R 17\n"
                                        + "D 8\n"
                                        + "L 4\n"
                                        + "R 17\n"
                                        + "D 15\n"
                                        + "R 1\n"
                                        + "D 18\n"
                                        + "U 1\n"
                                        + "R 5\n"
                                        + "L 7\n"
                                        + "D 18\n"
                                        + "U 16\n"
                                        + "D 2\n"
                                        + "L 11\n"
                                        + "R 7\n"
                                        + "L 12\n"
                                        + "D 2\n"
                                        + "U 8\n"
                                        + "L 17\n"
                                        + "U 18\n"
                                        + "L 10\n"
                                        + "R 16\n"
                                        + "L 5\n"
                                        + "R 1\n"
                                        + "L 10\n"
                                        + "R 14\n"
                                        + "L 4\n"
                                        + "D 15\n"
                                        + "R 8\n"
                                        + "D 15\n"
                                        + "L 12\n"
                                        + "D 5\n"
                                        + "U 11\n"
                                        + "L 1\n"
                                        + "R 8\n"
                                        + "D 11\n"
                                        + "U 5\n"
                                        + "L 12\n"
                                        + "D 11\n"
                                        + "U 9\n"
                                        + "D 12\n"
                                        + "R 7\n"
                                        + "D 11\n"
                                        + "U 2\n"
                                        + "R 15\n"
                                        + "L 2\n"
                                        + "R 8\n"
                                        + "U 2\n"
                                        + "D 8\n"
                                        + "R 14\n"
                                        + "L 4\n"
                                        + "D 1\n"
                                        + "U 4\n"
                                        + "R 4\n"
                                        + "D 2\n"
                                        + "R 5\n"
                                        + "D 9\n"
                                        + "L 10\n"
                                        + "U 8\n"
                                        + "R 13\n"
                                        + "D 15\n"
                                        + "R 18\n"
                                        + "D 5\n"
                                        + "U 5\n"
                                        + "L 1\n"
                                        + "U 1\n"
                                        + "R 9\n"
                                        + "D 2\n"
                                        + "U 6\n"
                                        + "R 5\n"
                                        + "U 5\n"
                                        + "R 17\n"
                                        + "L 2\n"
                                        + "D 1\n"
                                        + "R 3\n"
                                        + "D 5\n"
                                        + "U 13\n"
                                        + "R 10\n"
                                        + "D 10\n"
                                        + "R 13\n"
                                        + "D 5\n"
                                        + "L 1\n"
                                        + "U 14\n"
                                        + "D 17\n"
                                        + "U 15\n"
                                        + "R 16\n"
                                        + "L 9\n"
                                        + "U 12\n"
                                        + "L 17\n"
                                        + "R 19\n"
                                        + "U 1\n"
                                        + "D 4\n"
                                        + "U 14\n"
                                        + "L 7\n"
                                        + "R 16\n"
                                        + "L 5\n"
                                        + "D 4\n"
                                        + "L 14\n"
                                        + "U 13\n"
                                        + "R 10\n"
                                        + "L 19\n"
                                        + "D 1\n"
                                        + "R 17\n"
                                        + "D 6\n"
                                        + "L 19\n"
                                        + "U 11\n"
                                        + "L 14\n"
                                        + "U 15\n"
                                        + "D 10\n"
                                        + "U 17\n"
                                        + "R 16\n"
                                        + "U 12\n"
                                        + "L 13\n"
                                        + "D 1\n"
                                        + "R 11\n"
                                        + "D 10\n"
                                        + "L 4\n"
                                        + "D 15\n"
                                        + "L 18\n"
                                        + "R 2\n"
                                        + "U 5\n"
                                        + "L 2\n"
                                        + "U 9\n"
                                        + "D 16\n"
                                        + "R 8\n"
                                        + "D 13\n"
                                        + "R 19\n"
                                        + "U 14\n"
                                        + "L 10\n"
                                        + "R 13\n"
                                        + "U 3\n"
                                        + "R 2\n"
                                        + "U 11\n"
                                        + "L 2\n"
                                        + "R 2\n"
                                        + "U 12\n"
                                        + "L 14\n"
                                        + "U 15\n"
                                        + "R 6\n"
                                        + "D 10\n"
                                        + "R 8\n"
                                        + "U 14\n"
                                        + "D 9\n"
                                        + "L 2\n"
                                        + "U 3\n"
                                        + "D 8\n"
                                        + "U 7\n"
                                        + "R 10\n"
                                        + "U 16\n"
                                        + "R 3\n"
                                        + "U 9\n"
                                        + "L 16\n"
                                        + "D 1\n"
                                        + "R 1\n"
                                        + "U 12\n"
                                        + "R 12\n"
                                        + "U 8\n"
                                        + "L 19\n"
                                        + "U 14\n"
                                        + "R 9\n"
                                        + "U 5\n"
                                        + "L 15\n"
                                        + "U 7\n"
                                        + "L 17\n"
                                        + "U 16\n"
                                        + "R 19\n"
                                        + "U 17\n"
                                        + "L 1\n"
                                        + "D 7";
}
